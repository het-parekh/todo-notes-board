(this["webpackJsonpto-do-board"]=this["webpackJsonpto-do-board"]||[]).push([[0],{56:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(15),s=a.n(o),l=(a(56),a(16)),c=a(17),i=a(19),d=a(18),u=a(21),p=a(10),m=a(32),f=a(20),h="ADD_BOARD",E="ADD_POST",b="FETCH_BOARDS",y="UPDATE_BOARD",O="SWITCH_BOARD",v="FETCH_POSTS",g="DELETE_BOARD",j="DELETE_POST",N="UPDATE_POST",P="https://to-do-board-database.herokuapp.com/",w=function(){return function(e){return fetch(P+"boards",{method:"POST",body:JSON.stringify({title:"New Board"}),credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e({type:h,payload:t})})).catch((function(e){console.error("Error",e)}))}},B=function(){return function(e){return fetch(P+"boards").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:b,payload:e}}(t))})).catch((function(e){return console.error("Error",e)}))}},_=function(e,t){return function(a){return console.log(t),e==t&&(t=0),fetch(P+"boards/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){return a(function(e,t){return{type:g,payload:[e,t]}}(e,t))})).catch((function(e){return console.error("Delete Error : ",e)}))}},k=function(e,t){return function(a){var n=e.split(" ")[0];return fetch(P+"boards/"+e.split(" ")[1],{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(f.a)({},n,t))}).then((function(e){return e.json()})).then((function(e){return a({type:y,payload:e})})).catch((function(e){return console.error("Update Error : ",e)}))}},C=function(e){return function(t){var a=new Date,n=new Date;n.setDate(a.getDate()+1);var r={title:"",body:"",start_date:a,due_date:n,board:e,status:!1};return fetch(P+"posts",{method:"POST",body:JSON.stringify(r),credentials:"same-origin",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return t({type:E,payload:e})})).catch((function(e){console.error("Error",e)}))}},D=function(){return function(e){return fetch(P+"posts").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:v,payload:e}}(t))})).catch((function(e){return console.error("Error",e)}))}},T=function(e){return function(t){return fetch(P+"posts/"+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){return t(function(e){return{type:j,payload:e}}(e))})).catch((function(e){return console.error("Delete Error : ",e)}))}},S=function(e,t){return function(a){var n=e.split(" ")[0];return fetch(P+"posts/"+e.split(" ")[1],{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(f.a)({},n,t))}).then((function(e){return e.json()})).then((function(e){console.log(n),"title"!==n&&"body"!==n&&a({type:N,payload:e})})).catch((function(e){return console.error("Update Error : ",e)}))}},x=a(25),L=a(102),R=a(88),A=a(89),q=a(90),U=a(91),I=a(92),F=a(93),M=a(12),H=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).collapseNavbar=n.collapseNavbar.bind(Object(x.a)(n)),n.isLoginOpen=n.isLoginOpen.bind(Object(x.a)(n)),n.isRegisterOpen=n.isRegisterOpen.bind(Object(x.a)(n)),n.switchmodals=n.switchmodals.bind(Object(x.a)(n)),n.state={isNavCollapsed:!1,isLoginOpen:!1,isRegisterOpen:!1},n}return Object(c.a)(a,[{key:"collapseNavbar",value:function(){this.setState({isNavCollapsed:!this.state.isNavCollapsed})}},{key:"isLoginOpen",value:function(){this.setState({isLoginOpen:!this.state.isLoginOpen})}},{key:"isRegisterOpen",value:function(){this.setState({isRegisterOpen:!this.state.isRegisterOpen})}},{key:"switchmodals",value:function(){1==this.state.isLoginOpen?(this.isLoginOpen(),this.isRegisterOpen()):(this.isRegisterOpen(),this.isLoginOpen())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(L.a,{isOpen:this.state.isLoginOpen,toggle:this.isLoginOpen},r.a.createElement("div",{id:"#modal_head"},r.a.createElement("button",{onClick:this.switchmodals,className:"button_slide slide_left mt-3 ml-3 px-2 py-2"},r.a.createElement(M.g,{size:28})," Register "),r.a.createElement("div",{style:{cursor:"pointer"},onClick:this.isLoginOpen,className:"float-right mt-3 mr-3 py-0"},r.a.createElement(M.l,{size:28}))),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-panel one"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"Account Login")),r.a.createElement("div",{className:"form-content"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-remember"},r.a.createElement("input",{type:"checkbox"}),"Remember Me"),r.a.createElement("a",{className:"form-recovery",href:"#"},"Forgot Password?")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit"},"Log In"))))))),r.a.createElement(L.a,{isOpen:this.state.isRegisterOpen},r.a.createElement("div",{id:"#modal_head"},r.a.createElement("button",{onClick:this.switchmodals,className:"button_slide slide_left mt-3 ml-3 px-2 py-2"},r.a.createElement(M.g,{size:28})," Login "),r.a.createElement("div",{style:{cursor:"pointer"},onClick:this.isRegisterOpen,className:"float-right mt-3 mr-3 py-0"},r.a.createElement(M.l,{size:28}))),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form-toggle"}),r.a.createElement("div",{className:"form-panel one"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"Register")),r.a.createElement("div",{className:"form-content"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"username"},"Email"),r.a.createElement("input",{type:"text",id:"username",name:"username",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{for:"password"},"Phone Number"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:"required"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit"},"Register"))))))),r.a.createElement(R.a,{style:{backgroundColor:"#fff"},className:"py-0 px-0",expand:"md"},r.a.createElement("div",{className:"navbar-inner header w-100"},r.a.createElement(A.a,null,r.a.createElement(q.a,{onClick:this.collapseNavbar},r.a.createElement(M.a,null)),r.a.createElement("div",{className:"brand"},"IN THE CLOUDS ",r.a.createElement(M.c,{style:{textShadow:"1px 1px white, -1px -1px #666"}})),r.a.createElement(U.a,{isOpen:this.state.isNavCollapsed,navbar:!0},r.a.createElement(I.a,{navbar:!0,className:"ml-auto"},r.a.createElement(F.a,null,r.a.createElement(u.c,{to:"",className:"nav-link"},r.a.createElement(M.d,null)," Home")),r.a.createElement(F.a,null,r.a.createElement(u.c,{to:"",className:"nav-link"},r.a.createElement(M.b,{style:{color:"black"}}),"  MyBoard")),r.a.createElement(F.a,null,r.a.createElement(u.c,{to:"",className:"nav-link"},r.a.createElement(M.h,null),"   Edit Account")),r.a.createElement(F.a,null,r.a.createElement(u.c,{to:"",onClick:this.isLoginOpen,className:"nav-link"},r.a.createElement(M.j,null)," Login")),r.a.createElement(F.a,null,r.a.createElement(u.c,{to:"",onClick:this.isRegisterOpen,style:{},className:"nav-link"},r.a.createElement(M.i,null),"egister")))))),r.a.createElement("br",null)))}}]),a}(n.Component),z=a(8),J=a(101),V=a(94),W=a(95),G=a(96),Y=a(97),$=a(98),K=a(99),Q=a(100),X=a(48),Z=a.n(X),ee=a(49),te=a.n(ee),ae=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).changeDate=function(e,t){n.setState({date:Object(z.a)(Object(z.a)({},n.state.date),{},Object(f.a)({},e,t))}),n.props.updatePost("due_date "+e,t)},n.changeStatus=function(e,t){n.props.updatePost("status "+t,e)},n.UpdateInput=function(e){return n.props.updatePost(e.target.name,e.target.value)},n.deletePost=function(e){n.props.deletePost(e)},n.addPost=function(){n.props.addPost(n.props.board)},n.state={date:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t="";0===this.props.posts.length&&0!==this.props.board&&(t=r.a.createElement("center",null,r.a.createElement("div",{onClick:this.addPost},r.a.createElement("a",{className:"addFirstButton addFirstButton-green"},r.a.createElement("i",{className:"fa fa-plus"},r.a.createElement(M.f,{style:{color:"#fff"},size:24})," "),"Add Your ",r.a.createElement("strong",null,"First Post")))));var a=this.props.posts.map((function(t){var a=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"numeric",year:"numeric"}).format(Date.parse(t.start_date)),n=new Date(Date.parse(t.due_date)),o="PENDING",s="#ffff4d",l="#222";return 1==t.status?(o="COMPLETED",s="#ccff66",l="#009999"):0==t.status&&t.due_date<t.start_date&&(o="OVERDUE!!",s="#ff8080",l="#fff"),r.a.createElement("div",{key:t.id,style:{marginBottom:"30px"},className:"px-3 float-left"},r.a.createElement(V.a,{style:{width:"18rem",backgroundColor:s}},r.a.createElement("div",{style:{textAlign:"center",color:l}},r.a.createElement("b",null,"STATUS : ",o),r.a.createElement("div",{className:"float-right"},r.a.createElement(M.f,{onMouseEnter:e.props.fetchPosts,onClick:e.addPost,className:"square",size:26})),r.a.createElement("hr",{style:{marginTop:"0px"}})),r.a.createElement(W.a,{className:"pt-0"},r.a.createElement(G.a,null,r.a.createElement(Y.a,{onChange:e.UpdateInput,name:"title "+t.id,defaultValue:t.title})),r.a.createElement($.a,null,r.a.createElement("small",{className:"text-muted"},r.a.createElement("span",{className:"float-left"},"Start: ",a),r.a.createElement("span",{className:"float-right mb-2"},r.a.createElement(Z.a,{minDate:n,value:void 0!==e.state.date[t.id]?e.state.date[t.id]:n,onChange:function(a){return e.changeDate(t.id,a)},clearIcon:null,dayPlaceholder:"dd",monthPlaceholder:"mm",yearPlaceholder:"yyyy",format:"dd/MM/y"})))),r.a.createElement(K.a,null,r.a.createElement(Y.a,{onChange:e.UpdateInput,type:"textarea",style:{overflow:"scroll"},name:"body "+t.id,defaultValue:t.body})),r.a.createElement(Q.a,{to:""},r.a.createElement("label",null,r.a.createElement(te.a,{className:"react-switch",id:"status "+t.id,onChange:function(a){return e.changeStatus(a,t.id)},checked:t.status,offColor:"#dc3545"}))),r.a.createElement(Q.a,{className:"float-right ",to:""},r.a.createElement(J.a,{onMouseEnter:e.props.fetchPosts,onClick:function(){return e.deletePost(t.id)},color:"danger"},r.a.createElement(M.k,null)," Delete")))))}));return r.a.createElement("div",null,t,a)}}]),a}(n.Component),ne=a(50),re=0,oe=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).switchBoard=function(e){var t=e.target.name;re++,setTimeout((function(){1===re&&!0===n.state.readonly_var&&n.props.switchBoard(t)}),300)},n.deleteBoard=function(e,t){n.props.posts.posts.forEach((function(t){t.board==e&&n.props.deletePost(t.id)})),n.props.deleteBoard(e,t)},n.editable=function(e){n.setState({readonly_var:!1,board_title_class:Object(z.a)(Object(z.a)({},n.state.board_title_class),{},Object(f.a)({},e.target.name,""))})},n.not_editable=function(e){n.setState({readonly_var:!0,board_title_class:Object(z.a)(Object(z.a)({},n.state.board_title_class),{},Object(f.a)({},e.target.name,"uneditable_tab"))}),n.updateTitle(e)},n.updateTitle=function(e){n.props.updateBoard("title "+e.target.name,e.target.value)},n.state={readonly_var:!0,board_title_class:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;re=0;var t=this.props.boards.boards.map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{key:t.id+" newboard",title:t.title,className:e.props.boards.openedBoard==t.id?"tabs tab-selected":"tabs",name:t.id,onClick:e.switchBoard},r.a.createElement("input",{key:t.id+" input",name:t.id,className:void 0===e.state.board_title_class[t.id]?"uneditable_tab":e.state.board_title_class[t.id],required:!0,readOnly:e.state.readonly_var,onDoubleClick:e.editable,onBlur:e.not_editable,defaultValue:t.title}),r.a.createElement(ne.a,{key:t.id+" close",onClick:function(){return e.deleteBoard(t.id,e.props.boards.openedBoard)},className:"close_icon"})))})),a=this.props.posts.posts.filter((function(t){return t.board==e.props.boards.openedBoard}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{className:"py-0 px-0",style:{marginBottom:"20px",justifyContent:"flex-start",backgroundColor:"#ccffee"}},r.a.createElement(J.a,{className:"add-board",onClick:this.props.addBoard,outline:!0,color:"info"},r.a.createElement(M.e,null)," Add Board"),t),r.a.createElement("div",null,r.a.createElement(ae,{board:this.props.boards.openedBoard,posts:a,deletePost:this.props.deletePost,updatePost:this.props.updatePost,fetchPosts:this.props.fetchPosts,addPost:this.props.addPost})))}}]),a}(n.Component),se=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBoards(),this.props.fetchPosts()}},{key:"render",value:function(){var e=this;return r.a.createElement(u.b,{basename:"/"},r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:function(){return r.a.createElement(oe,{posts:e.props.posts,boards:e.props.boards,deletePost:e.props.deletePost,updatePost:e.props.updatePost,fetchBoards:e.props.fetchBoards,fetchPosts:e.props.fetchPosts,addPost:e.props.addPost,addBoard:e.props.addBoard,deleteBoard:e.props.deleteBoard,updateBoard:e.props.updateBoard,switchBoard:e.props.switchBoard})}}))))}}]),a}(n.Component),le=Object(p.f)(Object(m.b)((function(e){return{posts:e.posts,boards:e.boards}}),(function(e){return{addBoard:function(){return e(w())},fetchBoards:function(){return e(B())},deleteBoard:function(t,a){return e(_(t,a))},updateBoard:function(t,a){return e(k(t,a))},switchBoard:function(t){return e(function(e){return{type:O,payload:e}}(t))},addPost:function(t){return e(C(t))},fetchPosts:function(){return e(D())},deletePost:function(t){return e(T(t))},updatePost:function(t,a){return e(S(t,a))}}}))(se)),ce=(a(83),a(27)),ie=a(51),de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(z.a)(Object(z.a)({},e),{},{posts:e.posts.concat(t.payload)});case v:return Object(z.a)(Object(z.a)({},e),{},{posts:t.payload});case j:return Object(z.a)(Object(z.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});case N:return Object(z.a)(Object(z.a)({},e),{},{posts:e.posts.map((function(e,a){return e.id===t.payload.id?t.payload:e}))});default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{boards:[],openedBoard:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(z.a)(Object(z.a)({},e),{},{boards:t.payload});case h:return Object(z.a)(Object(z.a)({},e),{},{boards:e.boards.concat(t.payload),openedBoard:t.payload.id});case g:return Object(z.a)(Object(z.a)({},e),{},{openedBoard:t.payload[1],boards:e.boards.filter((function(e){return e.id!==t.payload[0]}))});case y:return Object(z.a)(Object(z.a)({},e),{},{openedBoard:t.payload.id,boards:e.boards.map((function(e,a){return e.id===t.payload.id?t.payload:e}))});case O:return Object(z.a)(Object(z.a)({},e),{},{openedBoard:t.payload});default:return e}},pe=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{store:Object(ce.d)(Object(ce.c)({posts:de,boards:ue}),Object(ce.a)(ie.a))},r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(le,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(84);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.d5956639.chunk.js.map